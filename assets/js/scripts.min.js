/*!
 * Lim9
 * Lim9
 * http://lim9.com
 * @author Lim9
 * @version 1.0.0
 * Copyright 2013. commercial licensed.
 */
(function ($, window, document) {

  'use strict';
var langfinal;
  $(function () {

    $.post('http://lim9.com/php/langdetect.php', function(bidylu) {
 langfinal=bidylu;
if(langfinal=='pt'){
  
    $('#langbt').trigger('click');
}
  });
    
$.fn.toggleClick = function(){
    var methods = arguments, // store the pa sse   d arguments fo r future reference
        count = methods.length; // cache the number  of methods 

    //use return this to maintain jQuery chainability
    return this.each(function(i, item){
        // for each element you bind to
        var index = 0; // create a local counter for that element
        $(item).click(function(){ // bind a click handler to that element
            return methods[index++ % count].apply(this,arguments); // that whe n  called will apply the 'index'th method to that element
            // the index % count means that we constrain our i terator between 0 and  ( coun t-1)
        });
    });
};



/* --------------------------- ALL VARS ---------------------------*/


var lingua="en";

var chwindow = $(window);
var chabout = $('#about');
var chheader = $('.header');
var chnav = $('.nav');
var chimg1 = $('#imghead');
var chimg2 = $('#imghead2');

 var crtnn = 0;

var stagey = chwindow.height();
var stagex = chwindow.width();

var magi = '';

var is_retina = $('.myowncheck').css('font-family');
var is_mobile;
var is_ortn;
var holdtm;
var imgnmb=1;
var elementkeys=6;



if((navigator.userAgent.toLowerCase().indexOf('android')>=0)==true || (navigator.userAgent.toLowerCase().indexOf('apple-i')>=0)==true || (navigator.userAgent.toLowerCase().indexOf('windows phone')>=0)==true){
  is_mobile = "sim";
  $('.main, .nav').addClass('movel');
}else{
  is_mobile = "nao";
}

if(stagex <= stagey){
  is_ortn = 'portrait';
}else{
  is_ortn = 'landscape';
}


/* --------------------------- Responsive IMAGES ----------------------------*/

function responso(a,b,c){

  if(b !== magi || c==1){



  if (stagex<485)
  {
  a.css('background-image', 'url(/../assets/img/'+b+'-smallest.jpg)');
  }
else if (stagex>485 && stagex<760)
  {
  a.css('background-image', 'url(/../assets/img/'+b+'-small.jpg)');
  }
else if (stagex>760 && stagex<1100)
  {
  a.css('background-image', 'url(/../assets/img/'+b+'-medium.jpg)');
  }
else if (stagex>1100 && stagex<1550)
  {
  a.css('background-image', 'url(/../assets/img/'+b+'-big.jpg)');
  }
else if (stagex>1550)
  {
  a.css('background-image', 'url(/../assets/img/'+b+'-HD.jpg)');
  }
  if(b !== 'Nossa-Foto-Site' && b !== 'nada'){
    magi=b;
  }

}

}



/* ------------------------ SVG FUNCTION ---------------------------------- */

function loadSVG(svgpath){
     if( /webkit/gi.test(navigator.userAgent.toLowerCase()) ){
       var obj = document.createElement("object");
       obj.setAttribute("type", "image/svg+xml");
       obj.setAttribute("data", svgpath);
       obj.setAttribute("width", "1");
       obj.setAttribute("height", "1");
     obj.setAttribute("class", "papagar");
       obj.setAttribute("style", "width: 0px; height: 0px; position: absolute;visibility : hidden");
       document.getElementById("garbage").appendChild(obj);
     }
}

/*loadSVG("/../img/lampeda2.svg");*/



/* ---------------- RESIZE STUFF ------------------- */

/* - INIT SIZE - */

function resizetodo(){

stagey = chwindow.height();
stagex = chwindow.width();




}

resizetodo();

responso(chimg1,'1');
responso(chimg2,'2');

/* - ACTUAL RESIZE - */

$( window ).resize(function() {

resizetodo();

});

function changepic(){
  holdtm = setTimeout(function() {
    chimg1.fadeToggle(1000, setpic());
    chimg2.fadeToggle(1000);
  }, 3000);
}

function setpic(){
    if(chimg1.css('display') == 'none'){
      responso(chimg1, imgnmb+1);
      if(imgnmb<7){
         imgnmb +=1;
       }else{
        imgnmb=0;
       }
     
      changepic();
    }else if(chimg2.css('display') == 'none'){
      responso(chimg2, imgnmb+1);
      if(imgnmb<7){
         imgnmb +=1;
       }else{
        imgnmb=0;
       }
      changepic();
    }
}

changepic();

/* - - - - - - - - - - - - - - NEW SMOOTH SCROLL - - - - - - - - - - - - - - - - */

$(".main").onepage_scroll({
   sectionContainer: "section",     // sectionContainer accepts any kind of selector in case you don't want to use section
   easing: "ease",                  // Easing options accepts the CSS3 easing animation such "ease", "linear", "ease-in", 
                                    // "ease-out", "ease-in-out", or even cubic bezier value such as "cubic-bezier(0.175, 0.885, 0.420, 1.310)"
   animationTime: 1000,             // AnimationTime let you define how long each section takes to animate
   pagination: false,                // You can either show or hide the pagination. Toggle true for show, false for hide.
   updateURL: false,                // Toggle this true if you want the URL to be updated automatically when the user scroll to each page.
   beforeMove: function(index) {
    if(index==1){
      chnav.fadeOut(0);
      changepic();
    }
    if(index==2){
      clearTimeout(holdtm);
    }

     if(index!=6){
      closewho();
    }

   

    if(index!=7){
      closehelp();
    }


   },  // This option accepts a callback function. The function will be called before the page moves.
   afterMove: function(index) {
    if(index==2){
      chnav.fadeIn(0);
      animartnw();

    }
    if(index!=2){
      closetnw();
    }
    if(index==3){
      chnav.fadeIn(0);
      animarwhy();
    }
     if(index!=3){
      closewhy();
    }

      if(index==4){
        chnav.fadeIn(0);
      animarwhat();
    }
     if(index!=4){
      closewhat();
    }

        if(index==5){
          chnav.fadeIn(0);
      animarhow();
    }
     if(index!=5){
      closehow();
    }

    if(index==6){
      
          chnav.fadeIn(0);
      animarwho();
    }

     if(index==7){
      animarhelp();
    }
    



   },   // This option accepts a callback function. The function will be called after the page moves.
   loop: false,                     // You can have the page loop back to the top/bottom when the user navigates at up/down on the first/last page.
   keyboard: true,                  // You can activate the keyboard controls
   responsiveFallback: false        // You can fallback to normal page scroll by defining the width of the browser in which
                                    // you want the responsive fallback to be triggered. For example, set this to 600 and whenever 
                                    // the browser's width is less than 600, the fallback will kick in.
});


   

/* - - - Change Language - - - */



$('#langbt').click(function(e){

    if(lingua=='en'){
      lingua='pt';
    }else if(lingua=='pt'){
      lingua='en';
    }

    e.preventDefault();
    $('.english').toggleClass("escondido");
    $('.portuguese').toggleClass("escondido");

    console.log("language is "+langfinal);
  
});


/* - - - LINKS - - - */


$('.linksbt').click(function(event) {
  var ulnk = $(this).attr('cadenas');

    window.open(ulnk, "_newtab");
});

/* - - - - - - - - HEADER STUFF - - - - - - - - - - - */

$('#vidhdn').click(function(event) {
  $(this).fadeOut().html('');
});




/* - - - - - - - - - - - - - - -  SVG SHIT - - - - - - - - - - - - - - - */




/* - - - TNW SVG - - - */

var snapy = Snap("#svgtnw");

 var diagramgroup;

Snap.load("assets/img/thenewoman.svg", function (f) {

  for (var y = 1; y < 11; y++) {
              var muy = "#LINHA"+y;
              var myu = "#cara"+y;
              f.select(muy).attr({opacity:0});
              f.select(myu).attr({opacity:0});

            };
   
    snapy.append(f);
    
    
});

function closetnw(){
          for (var w = 1; w < 11; w++) {
              var mul = "#LINHA"+w;
              var muc = "#cara"+w;
              diagramgroup.select(mul).attr({opacity:0});
              diagramgroup.select(muc).attr({opacity:0});

            };
}



          function animartnw(){

            var pq = 1;

            diagramgroup = Snap.select("#svgtnw");

            

            function jutsu(){
              setTimeout(xpani(pq), 1000);
            }

            jutsu();
            


            function xpani(zx){
              var zonxl = "#LINHA"+zx;
              var zonxp = "#cara"+zx;
              diagramgroup.select(zonxl).animate({opacity:1}, 150);
              var x = diagramgroup.select(zonxp).getBBox().x,
                offset = x/2 + 25;
                diagramgroup.select(zonxp).attr({
                    transform: "t"+offset+",0s0.5,0.5,0,0"
                });
            
                setTimeout(function() {
                    diagramgroup.select(zonxp).animate({opacity:1,transform:"t0,0s1,1,0,0"}, 150, mina.elastic);
                }, 150);

                setTimeout(function(){
                  if(pq<11){
                    pq+=1;
                  jutsu();
                  }
                  
                }, 300)
            }

          }


/* - - - WHY SVG - - - */     

var total_frames = 120;
var path = new Array();
var length = new Array(); 
        
var snapwhy = Snap("#svgwhy");

Snap.load("assets/img/logo-tracing.svg", function (f) {

  /*for (var y = 1; y < 11; y++) {
              var muy = "#i"+y;
              f.select(muy).attr({opacity:0});
            };*/
   
    snapwhy.append(f);
    closewhy();

    
    
});

function animarwhy(){

var current_frame = 0;


var handle = 0;

var draw = function() {
   var progress = current_frame/total_frames;
   if (progress > 1) {
     window.cancelAnimationFrame(handle);
   } else {
     current_frame++;
     for(var j=0; j<path.length;j++){
       path[j].style.strokeDashoffset = Math.floor(length[j] * (1 - progress));
     }
     handle = window.requestAnimationFrame(draw);
   }
};
draw();

}

function closewhy(){
  for(var w=0; w<4;w++){
  path[w] = document.getElementById('i'+w);
  var l = path[w].getTotalLength();
  length[w] = l;
  path[w].style.strokeDasharray = l + ' ' + l; 
  path[w].style.strokeDashoffset = l;
}
}

/* - - - WHAT SVG - - - */ 


var snapwhat = Snap("#svgwhat");
var demall;

Snap.load("assets/img/letras.svg", function (f) {

  /*for (var y = 1; y < 11; y++) {
              var muy = "#i"+y;
              f.select(muy).attr({opacity:0});
            };*/
   
    snapwhat.append(f);
    closewhat();

    
    
});

function closewhat(){
  
    demall = Snap.select("#svgwhat");
    for (var w = 1; w < 10; w++) {
              var mul = "#letra"+w;
              demall.select(mul).attr({opacity:0,transform:"t0,10s1,1,0,0"});
            };

}

function animarwhat(){
  var ltrstg = 1;

   function putemin(){
    setTimeout(function(){

      var muv = "#letra"+ltrstg;
       
      demall.select(muv).animate({opacity:1,transform:"t0,0s1,1,0,0"}, 250);
      if(ltrstg<10){
        ltrstg +=1;
        putemin();
      }
      

    },100);
   }

   putemin();

    


}

/* - - - HOW SVG - - - */ 

var snaphow = Snap("#svghow");
var demhow;

Snap.load("assets/img/logohow.svg", function (f) {
   
    snaphow.append(f);
    closehow();

    
    
});

function closehow(){
  
    demhow = Snap.select("#svghow");
    for (var w = 1; w < 7; w++) {
              var mul = "#bola"+w;
              demhow.select(mul).attr({opacity:0,transform:"t0,0.5s1.1,1.1,0,0"});
            };

}

function animarhow(){
  var ltrstg = 1;

   function putemin(){
    setTimeout(function(){

      var muv = "#bola"+ltrstg;
       
      demhow.select(muv).animate({opacity:1,transform:"t0,0s1,1,0,0"}, 250);
      if(ltrstg<7){
        ltrstg +=1;
        putemin();
      }
      

    },100);
   }

   putemin();

    


}

/* - - - - - - - - - WHO SVG - - - - - - - - - */

function closewho(){
  
    $('#imgwho').fadeOut(250);

}

function animarwho(){
   
    $('#imgwho').fadeIn(500);

}


/* - - - - - - - - - HELP SVG - - - - - - - - - */

function closehelp(){
  $('.nav').animate({backgroundColor: '#9ae0bc'},500);
    $('.items').animate({color:'#fff'},500);
    $('#helpsect').animate({backgroundColor: '#fff'},500);
    
}

function animarhelp(){
    
    $('.nav').animate({backgroundColor: '#fff'},500);
    $('.items').animate({color:'#6bc295'},500);
    $('#helpsect').animate({backgroundColor: '#9ae0bc'},500);

}


$('#btsign').click(function(event) {
  validateForm();
});

function validateForm()
{
var x = document.getElementById("emailsignup").value;
var atpos=x.indexOf("@");
var dotpos=x.lastIndexOf(".");
if (atpos<1 || dotpos<atpos+2 || dotpos+2>=x.length)
  {
  alert("Not a valid e-mail address");
  }else{
    sendit();
  }
}

function sendit(){
      $.ajax({
          dataType: 'jsonp',
          url: "http://getsimpleform.com/messages/ajax?form_api_token=8f50bc81696a8d7a9db9032e640aa871",
          data: $('#emailsignup').serialize() 
        }).done(function() {
          //callback which can be used to show a thank you message
          //and reset the form
          alert("Thank you, for contacting us");
      });
}



/* - - - SCROLLTO - - - */

    $('#whatbt').click(function(){   
      
        $(".main").moveTo(4);     
      });

    $('#whybt').click(function(){   
      
        $(".main").moveTo(3);     
      });

    $('#tnwbt').click(function(){   
      
        $(".main").moveTo(2);     
      });

    $('#howbt').click(function(){   
      
        $(".main").moveTo(5);     
      });

    $('#whobt').click(function(){   
      
        $(".main").moveTo(6);     
      });

    $('#helpbt').click(function(){   
      
        $(".main").moveTo(7);     
      });


/* - - - - - - - - - - - - - - - - EXTRAS - - - - - - - - - - - -  - - - - - - - - - */



console.log("retina is "+is_retina);
console.log("mobile is "+is_mobile);
console.log("orientation is "+is_ortn);







    });

})(jQuery, window, document);

'use strict';(function(d){function h(a,b,e){var c="rgb"+(d.support.rgba?"a":"")+"("+parseInt(a[0]+e*(b[0]-a[0]),10)+","+parseInt(a[1]+e*(b[1]-a[1]),10)+","+parseInt(a[2]+e*(b[2]-a[2]),10);d.support.rgba&&(c+=","+(a&&b?parseFloat(a[3]+e*(b[3]-a[3])):1));return c+")"}function f(a){var b;return(b=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/.exec(a))?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16),1]:(b=/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/.exec(a))?[17*parseInt(b[1],16),17*parseInt(b[2],
16),17*parseInt(b[3],16),1]:(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))?[parseInt(b[1]),parseInt(b[2]),parseInt(b[3]),1]:(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9\.]*)\s*\)/.exec(a))?[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),parseFloat(b[4])]:l[a]}d.extend(!0,d,{support:{rgba:function(){var a=d("script:first"),b=a.css("color"),e=!1;if(/^rgba/.test(b))e=!0;else try{e=b!=a.css("color","rgba(0, 0, 0, 0.5)").css("color"),
a.css("color",b)}catch(c){}return e}()}});var k="color backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor outlineColor".split(" ");d.each(k,function(a,b){d.Tween.propHooks[b]={get:function(a){return d(a.elem).css(b)},set:function(a){var c=a.elem.style,g=f(d(a.elem).css(b)),m=f(a.end);a.run=function(a){c[b]=h(g,m,a)}}}});d.Tween.propHooks.borderColor={set:function(a){var b=a.elem.style,e=[],c=k.slice(2,6);d.each(c,function(b,c){e[c]=f(d(a.elem).css(c))});var g=f(a.end);
a.run=function(a){d.each(c,function(d,c){b[c]=h(e[c],g,a)})}}};var l={aqua:[0,255,255,1],azure:[240,255,255,1],beige:[245,245,220,1],black:[0,0,0,1],blue:[0,0,255,1],brown:[165,42,42,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgrey:[169,169,169,1],darkgreen:[0,100,0,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkviolet:[148,0,211,1],fuchsia:[255,
0,255,1],gold:[255,215,0,1],green:[0,128,0,1],indigo:[75,0,130,1],khaki:[240,230,140,1],lightblue:[173,216,230,1],lightcyan:[224,255,255,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],magenta:[255,0,255,1],maroon:[128,0,0,1],navy:[0,0,128,1],olive:[128,128,0,1],orange:[255,165,0,1],pink:[255,192,203,1],purple:[128,0,128,1],violet:[128,0,128,1],red:[255,0,0,1],silver:[192,192,192,1],white:[255,255,255,1],yellow:[255,255,
0,1],transparent:[255,255,255,0]}})(jQuery);

if (jQuery) (function ($) {

    $.extend($.fn, {
        dropdown: function (method, data) {

            switch (method) {
                case 'show':
                    show(null, $(this));
                    return $(this);
                case 'hide':
                    hide();
                    return $(this);
                case 'attach':
                    return $(this).attr('data-dropdown', data);
                case 'detach':
                    hide();
                    return $(this).removeAttr('data-dropdown');
                case 'disable':
                    return $(this).addClass('dropdown-disabled');
                case 'enable':
                    hide();
                    return $(this).removeClass('dropdown-disabled');
            }

        }
    });

    function show(event, object) {

        var trigger = event ? $(this) : object,
			dropdown = $(trigger.attr('data-dropdown')),
			isOpen = trigger.hasClass('dropdown-open');

        // In some cases we don't want to show it
        if (event) {
            if ($(event.target).hasClass('dropdown-ignore')) return;

            event.preventDefault();
            event.stopPropagation();
        } else {
            if (trigger !== object.target && $(object.target).hasClass('dropdown-ignore')) return;
        }
        hide();

        if (isOpen || trigger.hasClass('dropdown-disabled')) return;

        // Show it
        trigger.addClass('dropdown-open');
        dropdown
			.data('dropdown-trigger', trigger)
			.show();

        // Position it
        position();

        // Trigger the show callback
        dropdown
			.trigger('show', {
				dropdown: dropdown,
				trigger: trigger
			});

    }

    function hide(event) {

        // In some cases we don't hide them
        var targetGroup = event ? $(event.target).parents().addBack() : null;

        // Are we clicking anywhere in a dropdown?
        if (targetGroup && targetGroup.is('.dropdown')) {
            // Is it a dropdown menu?
            if (targetGroup.is('.dropdown-menu')) {
                // Did we click on an option? If so close it.
                if (!targetGroup.is('A')) return;
            } else {
                // Nope, it's a panel. Leave it open.
                return;
            }
        }

        // Hide any dropdown that may be showing
        $(document).find('.dropdown:visible').each(function () {
            var dropdown = $(this);
            dropdown
				.hide()
				.removeData('dropdown-trigger')
				.trigger('hide', { dropdown: dropdown });
        });

        // Remove all dropdown-open classes
        $(document).find('.dropdown-open').removeClass('dropdown-open');

    }

    function position() {

        var dropdown = $('.dropdown:visible').eq(0),
			trigger = dropdown.data('dropdown-trigger'),
			hOffset = trigger ? parseInt(trigger.attr('data-horizontal-offset') || 0, 10) : null,
			vOffset = trigger ? parseInt(trigger.attr('data-vertical-offset') || 0, 10) : null;

        if (dropdown.length === 0 || !trigger) return;

        // Position the dropdown relative-to-parent...
        if (dropdown.hasClass('dropdown-relative')) {
            dropdown.css({
                left: dropdown.hasClass('dropdown-anchor-right') ?
					trigger.position().left - (dropdown.outerWidth(true) - trigger.outerWidth(true)) - parseInt(trigger.css('margin-right'), 10) + hOffset :
					trigger.position().left + parseInt(trigger.css('margin-left'), 10) + hOffset,
                top: trigger.position().top + trigger.outerHeight(true) - parseInt(trigger.css('margin-top'), 10) + vOffset
            });
        } else {
            // ...or relative to document
            dropdown.css({
                left: dropdown.hasClass('dropdown-anchor-right') ?
					trigger.offset().left - (dropdown.outerWidth() - trigger.outerWidth()) + hOffset : trigger.offset().left + hOffset,
                top: trigger.offset().top + trigger.outerHeight() + vOffset
            });
        }
    }

    $(document).on('click.dropdown', '[data-dropdown]', show);
    $(document).on('click.dropdown', hide);
    $(window).on('resize', position);

})(jQuery);
!function(e){var t={sectionContainer:"section",easing:"ease",animationTime:1e3,pagination:true,updateURL:false,keyboard:true,beforeMove:null,afterMove:null,loop:false,responsiveFallback:false};e.fn.swipeEvents=function(){return this.each(function(){function i(e){var i=e.originalEvent.touches;if(i&&i.length){t=i[0].pageX;n=i[0].pageY;r.bind("touchmove",s)}}function s(e){var i=e.originalEvent.touches;if(i&&i.length){var o=t-i[0].pageX;var u=n-i[0].pageY;if(o>=50){r.trigger("swipeLeft")}if(o<=-50){r.trigger("swipeRight")}if(u>=50){r.trigger("swipeUp")}if(u<=-50){r.trigger("swipeDown")}if(Math.abs(o)>=50||Math.abs(u)>=50){r.unbind("touchmove",s)}}}var t,n,r=e(this);r.bind("touchstart",i)})};e.fn.onepage_scroll=function(n){function o(){if(e(window).width()<r.responsiveFallback){e("body").addClass("disabled-onepage-scroll");e(document).unbind("mousewheel DOMMouseScroll");i.swipeEvents().unbind("swipeDown swipeUp")}else{if(e("body").hasClass("disabled-onepage-scroll")){e("body").removeClass("disabled-onepage-scroll");e("html, body, .wrapper").animate({scrollTop:0},"fast")}i.swipeEvents().bind("swipeDown",function(t){if(!e("body").hasClass("disabled-onepage-scroll"))t.preventDefault();i.moveUp()}).bind("swipeUp",function(t){if(!e("body").hasClass("disabled-onepage-scroll"))t.preventDefault();i.moveDown()});e(document).bind("mousewheel DOMMouseScroll",function(e){e.preventDefault();var t=e.originalEvent.wheelDelta||-e.originalEvent.detail;u(e,t)})}}function u(e,t){var n=t,s=(new Date).getTime();if(s-lastAnimation<quietPeriod+r.animationTime){e.preventDefault();return}if(n<0){i.moveDown()}else{i.moveUp()}lastAnimation=s}var r=e.extend({},t,n),i=e(this),s=e(r.sectionContainer);total=s.length,status="off",topPos=0,lastAnimation=0,quietPeriod=500,paginationList="";e.fn.transformPage=function(t,n,r){if(typeof t.beforeMove=="function")t.beforeMove(r);e(this).css({"-webkit-transform":"translate3d(0, "+n+"%, 0)","-webkit-transition":"-webkit-transform "+t.animationTime+"ms "+t.easing,"-moz-transform":"translate3d(0, "+n+"%, 0)","-moz-transition":"-moz-transform "+t.animationTime+"ms "+t.easing,"-ms-transform":"translate3d(0, "+n+"%, 0)","-ms-transition":"-ms-transform "+t.animationTime+"ms "+t.easing,transform:"translate3d(0, "+n+"%, 0)",transition:"transform "+t.animationTime+"ms "+t.easing});e(this).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(e){if(typeof t.afterMove=="function")t.afterMove(r)})};e.fn.moveDown=function(){var t=e(this);index=e(r.sectionContainer+".active").data("index");current=e(r.sectionContainer+"[data-index='"+index+"']");next=e(r.sectionContainer+"[data-index='"+(index+1)+"']");if(next.length<1){if(r.loop==true){pos=0;next=e(r.sectionContainer+"[data-index='1']")}else{return}}else{pos=index*100*-1}if(typeof r.beforeMove=="function")r.beforeMove(next.data("index"));current.removeClass("active");next.addClass("active");if(r.pagination==true){e(".onepage-pagination li a"+"[data-index='"+index+"']").removeClass("active");e(".onepage-pagination li a"+"[data-index='"+next.data("index")+"']").addClass("active")}e("body")[0].className=e("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,"");e("body").addClass("viewing-page-"+next.data("index"));if(history.replaceState&&r.updateURL==true){var n=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(index+1);history.pushState({},document.title,n)}t.transformPage(r,pos,next.data("index"))};e.fn.moveUp=function(){var t=e(this);index=e(r.sectionContainer+".active").data("index");current=e(r.sectionContainer+"[data-index='"+index+"']");next=e(r.sectionContainer+"[data-index='"+(index-1)+"']");if(next.length<1){if(r.loop==true){pos=(total-1)*100*-1;next=e(r.sectionContainer+"[data-index='"+total+"']")}else{return}}else{pos=(next.data("index")-1)*100*-1}if(typeof r.beforeMove=="function")r.beforeMove(next.data("index"));current.removeClass("active");next.addClass("active");if(r.pagination==true){e(".onepage-pagination li a"+"[data-index='"+index+"']").removeClass("active");e(".onepage-pagination li a"+"[data-index='"+next.data("index")+"']").addClass("active")}e("body")[0].className=e("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,"");e("body").addClass("viewing-page-"+next.data("index"));if(history.replaceState&&r.updateURL==true){var n=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(index-1);history.pushState({},document.title,n)}t.transformPage(r,pos,next.data("index"))};e.fn.moveTo=function(t){current=e(r.sectionContainer+".active");next=e(r.sectionContainer+"[data-index='"+t+"']");if(next.length>0){if(typeof r.beforeMove=="function")r.beforeMove(next.data("index"));current.removeClass("active");next.addClass("active");e(".onepage-pagination li a"+".active").removeClass("active");e(".onepage-pagination li a"+"[data-index='"+t+"']").addClass("active");e("body")[0].className=e("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,"");e("body").addClass("viewing-page-"+next.data("index"));pos=(t-1)*100*-1;if(history.replaceState&&r.updateURL==true){var n=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(t-1);history.pushState({},document.title,n)}i.transformPage(r,pos,t)}};i.addClass("onepage-wrapper").css("position","relative");e.each(s,function(t){e(this).addClass("ops-section").attr("data-index",t+1);topPos=topPos+100;if(r.pagination==true){paginationList+="<li><a data-index='"+(t+1)+"' href='#"+(t+1)+"'></a></li>"}});i.swipeEvents().bind("swipeDown",function(t){if(!e("body").hasClass("disabled-onepage-scroll"))t.preventDefault();i.moveUp()}).bind("swipeUp",function(t){if(!e("body").hasClass("disabled-onepage-scroll"))t.preventDefault();i.moveDown()});if(r.pagination==true){e("<ul class='onepage-pagination'>"+paginationList+"</ul>").prependTo("body");posTop=i.find(".onepage-pagination").height()/2*-1;i.find(".onepage-pagination").css("margin-top",posTop)}if(window.location.hash!=""&&window.location.hash!="#1"){init_index=window.location.hash.replace("#","");e(r.sectionContainer+"[data-index='"+init_index+"']").addClass("active");e("body").addClass("viewing-page-"+init_index);if(r.pagination==true)e(".onepage-pagination li a"+"[data-index='"+init_index+"']").addClass("active");next=e(r.sectionContainer+"[data-index='"+init_index+"']");if(next){next.addClass("active");if(r.pagination==true)e(".onepage-pagination li a"+"[data-index='"+init_index+"']").addClass("active");e("body")[0].className=e("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,"");e("body").addClass("viewing-page-"+next.data("index"));if(history.replaceState&&r.updateURL==true){var a=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+init_index;history.pushState({},document.title,a)}}pos=(init_index-1)*100*-1;i.transformPage(r,pos,init_index)}else{e(r.sectionContainer+"[data-index='1']").addClass("active");e("body").addClass("viewing-page-1");if(r.pagination==true)e(".onepage-pagination li a"+"[data-index='1']").addClass("active")}if(r.pagination==true){e(".onepage-pagination li a").click(function(){var t=e(this).data("index");i.moveTo(t)})}e(document).bind("mousewheel DOMMouseScroll",function(t){t.preventDefault();var n=t.originalEvent.wheelDelta||-t.originalEvent.detail;if(!e("body").hasClass("disabled-onepage-scroll"))u(t,n)});if(r.responsiveFallback!=false){e(window).resize(function(){o()});o()}if(r.keyboard==true){e(document).keydown(function(t){var n=t.target.tagName.toLowerCase();if(!e("body").hasClass("disabled-onepage-scroll")){switch(t.which){case 38:if(n!="input"&&n!="textarea")i.moveUp();break;case 40:if(n!="input"&&n!="textarea")i.moveDown();break;default:return}}})}return false}}(window.jQuery)